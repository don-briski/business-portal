<div class="dt-page__header">
  <h1 class="dt-page__title clearfix">
    Parameters Setup
    <span
      class="float-right role-add"
      *ngIf="
        currentuser?.permission?.includes('Create Fees') ||
        currentuser?.permission?.includes('Create Threshold Parameter') ||
        currentuser?.permission?.includes('Manage Loan Offers')
      "
    >
      <div class="btn-group mr-2 mb-2">
        <div class="btn-group dropleft" role="group">
          <!-- Dropdown Button -->
          <button
            [style.borderColor]="currentTheme?.secondaryColor"
            [style.backgroundColor]="currentTheme?.secondaryColor"
            type="button"
            class="btn float-right btn-primary orange-bg dropdown-toggle dropdown-toggle-split"
            data-toggle="dropdown"
            aria-haspopup="true"
            aria-expanded="false"
          >
            Add New
          </button>
          <!-- /dropdown button -->
          <!-- Dropdown Menu -->
          <div
            class="dropdown-menu"
            x-placement="left-start"
            style="
              position: absolute;
              will-change: transform;
              top: 0px;
              left: 0px;
              transform: translate3d(-5px, 0px, 0px);
            "
          >
            <a
              class="dropdown-item"
              href="javascript:void(0)"
              (click)="openModal(addfeeModal)"
              *ngIf="currentuser?.permission?.includes('Create Fees')"
              >Add New Fee</a
            >
            <a
              class="dropdown-item"
              href="javascript:void(0)"
              (click)="openModal(addThresholdModal)"
              *ngIf="
                currentuser?.permission?.includes('Create Threshold Parameter')
              "
              >Add New Threshold</a
            >
            <a
              class="dropdown-item"
              href="javascript:void(0)"
              (click)="
                getLoanTypesForUssdLoanOffers();
                openModal(addLoanOfferModal, 'lg')
              "
              *ngIf="
                currentuser?.permission?.includes('Manage Loan Offers') || true
              "
              >Add New Loan Offer</a
            >
            <a
              *ngIf="isFeatureEnabled(growthBookFeatureTags.LoanApprovalWorkflow)"
              class="dropdown-item"
              routerLink="/configurations/parameterssetup/loan-approval-workflows/add"
              >Add New Loan Approval Workflow</a
            >
          </div>
        </div>
      </div>
    </span>
  </h1>
</div>
<div class="row">
  <div class="col-xl-12">
    <ul id="active-div" class="nav justify-content-center">
      <li
        class="nav-item"
        *ngIf="currentuser?.permission?.includes('View Fees')"
      >
        <a
          class="nav-link pool-nav"
          [ngClass]="{ 'active-tab': currentView === 1 }"
          href="javascript:void(0)"
          (click)="switchView(1)"
        >
          Fees
        </a>
      </li>
      <li
        class="nav-item"
        *ngIf="currentuser?.permission?.includes('View Threshold Parameters')"
      >
        <a
          class="nav-link pool-nav"
          [ngClass]="{ 'active-tab': currentView === 2 }"
          href="javascript:void(0)"
          (click)="switchView(2)"
          >Threshold Parameters</a
        >
      </li>
      <li
        class="nav-item"
        *ngIf="currentuser?.permission?.includes('View Loan Offers')"
      >
        <a
          class="nav-link pool-nav"
          [ngClass]="{ 'active-tab': currentView === 3 }"
          href="javascript:void(0)"
          (click)="switchView(3)"
          >Loan Offers</a
        >
      </li>
      <li
        *ngIf="isFeatureEnabled(growthBookFeatureTags.LoanApprovalWorkflow)"
        class="nav-item">
        <a
          class="nav-link pool-nav"
          [ngClass]="{ 'active-tab': currentView === 4 }"
          href="javascript:void(0)"
          (click)="switchView(4)"
          >Loan Approval Workflow</a
        >
      </li>
    </ul>
    <!-- Card -->
    <div class="dt-card">
      <div
        style="text-align: center"
        *ngIf="
          currentView != 1 &&
          currentView != 2 &&
          currentView != 3 &&
          currentView != 4
        "
      >
        <br />
        <p style="text-align: center; color: indianred" *ngIf="!requestLoader">
          Click on the parameter indicator above to view content
        </p>
        <a
          *ngIf="!requestLoader"
          class="btn btn-refresh btn-xs mb-3 mt-1"
          type="button"
          href="javascript:location.reload(true)"
          >Refresh Page</a
        >
      </div>

      <!-- Card Body -->
      <div class="dt-card__body">
        <div
          *ngIf="requestLoader"
          class="table-loader"
          style="text-align: center; color: indianred"
        >
          <span> <i class="icon icon-spin icon-spin2"></i> Loading...</span>
        </div>

        <div
          *ngIf="
            this.currentView == 1 &&
            currentuser?.permission?.includes('View Fees')
          "
          class="tab-pane"
        >
          <!-- Pagination Top-->
          <div class="row">
            <div class="col-md-8">
              <label style="display: inline-flex"
                ><span style="padding: 8px 2px; font-size: 12px">Show </span
                ><select
                  [(ngModel)]="pagination.pageSize"
                  aria-controls="data-table"
                  (change)="
                    getItemsPaginatedSearch(
                      this.pagination.searchTerm,
                      this.pagination.pageSize,
                      1
                    )
                  "
                  class="custom-select custom-select-xl form-control form-control-xl height"
                >
                  <option value="10">10</option>
                  <option value="25">25</option>
                  <option value="50">50</option>
                  <option value="100">100</option>
                </select>
                <span style="padding: 8px 2px; font-size: 12px"
                  >entries</span
                ></label
              >
            </div>
            <div class="form-group col-md-4">
              <label style="display: inline-flex; float: right"
                ><span style="padding: 10px 2px; font-size: 12px"></span
                ><input
                  type="search"
                  [(ngModel)]="pagination.searchTerm"
                  (keydown.enter)="
                    getItemsPaginatedSearch(
                      this.pagination.searchTerm,
                      this.pagination.pageSize,
                      1
                    )
                  "
                  class="form-control form-control-sm"
                  placeholder="Enter Name"
                  aria-controls="data-table"
                />
                <button
                  class="btn btn-xs text-white ml-3"
                  [style.background]="currentTheme.secondaryColor"
                  (click)="
                    getItemsPaginatedSearch(
                      this.pagination.searchTerm,
                      this.pagination.pageSize,
                      1
                    )
                  "
                >
                  <i class="icon icon-search"></i>
                </button>
              </label>
            </div>
            <div
              class=""
              aria-live="polite"
              style="padding-left: 18px; font-size: 13px; margin-top: -8px"
            >
              Showing {{ (pagination.pageNum - 1) * pagination.pageSize + 1 }} -
              {{
                (pagination.pageNum - 1) * pagination.pageSize +
                  pagination.count
              }}
              of {{ pagination.totalRecords }} record(s)
            </div>
          </div>
          <!-- /pagination Top -->

          <!-- Tables -->
          <div class="table-responsive">
            <table id="industriestable" class="table table-striped table-hover">
              <thead>
                <tr>
                  <th>Name</th>
                  <th>Description</th>
                  <th>Created By</th>
                  <th>Date Created</th>
                  <th>Status</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody>
                <tr
                  class="gradeX cursor"
                  *ngFor="let row of fees; let i = index"
                  (click)="
                    openViewModal('Fee', viewFeeModal, row, dropdownToggle)
                  "
                >
                  <td>{{ row?.feeName }}</td>
                  <td>{{ row?.feeDescription }}</td>
                  <td>{{ row?.user?.person?.displayName }}</td>
                  <td>{{ row?.createdAt | date : "dd/MM/yyyy" }}</td>
                  <td>
                    <span
                      *ngIf="row?.status == 'Active'"
                      class="badge badge-success btn-xs mb-1 mr-1"
                    >
                      {{ row?.status }}</span
                    >
                    <span
                      *ngIf="row?.status == 'NonActive'"
                      class="badge badge-warning btn-xs mb-1 mr-1"
                    >
                      {{ row?.status }}</span
                    >
                  </td>
                  <td>
                    <div
                      #dropdownToggle
                      class="dropdown mr-2 mb-2 d-inline-block"
                    >
                      <button
                        class="btn btn-warning btn-xs dropdown-toggle"
                        type="button"
                        data-toggle="dropdown"
                        aria-haspopup="true"
                        aria-expanded="false"
                      ></button>

                      <div class="dropdown-menu">
                        <a
                          *ngIf="
                            currentuser?.permission?.includes('Update Fees')
                          "
                          style="color: saddlebrown"
                          href="javascript:void(0)"
                          (click)="
                            isEditing = true;
                            openEditModal('Fee', editFeeModal, row)
                          "
                        >
                          <i class="icon icon-xs icon-setting"></i> Manage
                        </a>
                        <a style="color: saddlebrown" href="javascript:void(0)">
                          <i class="icon icon-xs icon-setting"></i> View
                        </a>
                      </div>
                    </div>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
          <!-- /tables -->

          <!-- Pagination Bottom -->
          <div>
            <br />
            <nav>
              <ul class="pagination pagination-sm justify-content-end">
                <li
                  class="page-item"
                  *ngIf="
                    (pagination.pageNum - 1) * pagination.pageSize + 1 > 10
                  "
                >
                  <a
                    class="page-link"
                    href="javascript:void(0)"
                    (click)="
                      getItemsPaginatedSearch(
                        this.pagination.searchTerm,
                        this.pagination.pageSize,
                        pagination.pageNum - 1
                      )
                    "
                    tabindex="-1"
                    >Previous</a
                  >
                </li>
                <li class="page-item">
                  <a class="page-link" href="javascript:void(0)"
                    >{{ pagination.pageNum }} of
                    {{ this.pagination.maxPage }} page<span
                      *ngIf="pagination.pageNum > 1"
                      >s</span
                    ><span class="sr-only">(current)</span></a
                  >
                </li>
                <li
                  class="page-item"
                  *ngIf="this.pagination.pageNum < this.pagination.maxPage"
                >
                  <a
                    class="page-link"
                    href="javascript:void(0)"
                    (click)="
                      getItemsPaginatedSearch(
                        this.pagination.searchTerm,
                        this.pagination.pageSize,
                        pagination.pageNum + 1
                      )
                    "
                    >Next</a
                  >
                </li>
              </ul>
            </nav>
          </div>
          <!-- /pagination Bottom -->
        </div>

        <div
          *ngIf="
            this.currentView == 2 &&
            currentuser?.permission?.includes('View Threshold Parameters')
          "
          class="module_new"
        >
          <!-- Pagination Top-->
          <div class="row">
            <div class="col-md-8">
              <label style="display: inline-flex"
                ><span style="padding: 8px 2px; font-size: 12px">Show </span
                ><select
                  [(ngModel)]="pagination2.pageSize"
                  aria-controls="data-table"
                  (change)="
                    getItemsPaginatedSearch2(
                      this.pagination2.searchTerm,
                      this.pagination2.pageSize,
                      1
                    )
                  "
                  class="custom-select custom-select-xl form-control form-control-xl height"
                >
                  <option value="10">10</option>
                  <option value="25">25</option>
                  <option value="50">50</option>
                  <option value="100">100</option>
                </select>
                <span style="padding: 8px 2px; font-size: 12px"
                  >entries</span
                ></label
              >
            </div>
            <div class="form-group col-md-4">
              <label style="display: inline-flex; float: right"
                ><span style="padding: 10px 2px; font-size: 12px"></span
                ><input
                  type="search"
                  [(ngModel)]="pagination2.searchTerm"
                  (keydown.enter)="
                    getItemsPaginatedSearch2(
                      this.pagination2.searchTerm,
                      this.pagination2.pageSize,
                      1
                    )
                  "
                  class="form-control form-control-sm"
                  placeholder="Enter Name"
                  aria-controls="data-table"
                />
                <button
                  class="btn btn-xs text-white ml-3"
                  [style.background]="currentTheme.secondaryColor"
                  (click)="
                    getItemsPaginatedSearch2(
                      this.pagination.searchTerm,
                      this.pagination.pageSize,
                      1
                    )
                  "
                >
                  <i class="icon icon-search"></i>
                </button>
              </label>
            </div>
            <div
              class=""
              aria-live="polite"
              style="padding-left: 18px; font-size: 13px; margin-top: -8px"
            >
              Showing
              {{ (pagination2.pageNum - 1) * pagination2.pageSize + 1 }} -
              {{
                (pagination2.pageNum - 1) * pagination2.pageSize +
                  pagination2.count
              }}
              of {{ pagination2.totalRecords }} record(s)
            </div>
          </div>
          <!-- /pagination Top -->

          <!-- Tables -->
          <div class="table-responsive">
            <table class="table table-striped table-hover">
              <thead>
                <tr>
                  <th>Name</th>
                  <th>Type</th>
                  <th class="text-center">Value</th>
                  <th>Created By</th>
                  <th>Date Created</th>
                  <th>Status</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody>
                <tr
                  class="gradeX cursor"
                  *ngFor="let row of thresholdparameters; let i = index"
                  (click)="
                    openViewModal(
                      'Threshold',
                      viewThresholdModal,
                      row,
                      dropdownToggle
                    )
                  "
                >
                  <td>{{ row?.thresholdParameterName }}</td>
                  <td
                    [style.color]="currentTheme?.secondaryColor"
                    [style.color]="currentTheme?.secondaryColor"
                  >
                    {{ row?.thresholdParameterType }}
                  </td>
                  <td class="text-center">
                    {{ row?.thresholdParameterValue }}
                  </td>
                  <td>{{ row?.user?.person?.displayName }}</td>
                  <td>{{ row?.createdAt | date : "dd/MM/yyyy" }}</td>
                  <td>
                    <span
                      *ngIf="row?.status == 'Active'"
                      class="badge badge-success btn-xs mb-1 mr-1"
                    >
                      {{ row?.status }}</span
                    >
                    <span
                      *ngIf="row?.status == 'NonActive'"
                      class="badge badge-warning btn-xs mb-1 mr-1"
                    >
                      {{ row?.status }}</span
                    >
                  </td>
                  <td>
                    <div
                      #dropdownToggle
                      class="dropdown mr-2 mb-2 d-inline-block"
                    >
                      <button
                        class="btn btn-warning btn-xs dropdown-toggle"
                        type="button"
                        data-toggle="dropdown"
                        aria-haspopup="true"
                        aria-expanded="false"
                      ></button>

                      <div class="dropdown-menu">
                        <a
                          *ngIf="
                            currentuser?.permission?.includes(
                              'Update Threshold Parameters'
                            )
                          "
                          style="color: saddlebrown"
                          href="javascript:void(0)"
                          (click)="
                            isEditing = true;
                            openEditModal('Threshold', editThresholdModal, row)
                          "
                        >
                          <i class="icon icon-xs icon-setting"></i> Manage
                        </a>
                        <a style="color: saddlebrown" href="javascript:void(0)">
                          <i class="icon icon-xs icon-setting"></i> View
                        </a>
                      </div>
                    </div>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
          <!-- /tables -->

          <!-- Pagination Bottom -->
          <div>
            <br />
            <nav>
              <ul class="pagination pagination-sm justify-content-end">
                <li
                  class="page-item"
                  *ngIf="
                    (pagination2.pageNum - 1) * pagination2.pageSize + 1 > 10
                  "
                >
                  <a
                    class="page-link"
                    href="javascript:void(0)"
                    (click)="
                      getItemsPaginatedSearch2(
                        this.pagination2.searchTerm,
                        this.pagination2.pageSize,
                        pagination2.pageNum - 1
                      )
                    "
                    tabindex="-1"
                    >Previous</a
                  >
                </li>
                <li class="page-item">
                  <a class="page-link" href="javascript:void(0)"
                    >{{ pagination2.pageNum }} of
                    {{ this.pagination2.maxPage }} page<span
                      *ngIf="pagination2.pageNum > 1"
                      >s</span
                    ><span class="sr-only">(current)</span></a
                  >
                </li>
                <li
                  class="page-item"
                  *ngIf="this.pagination2.pageNum < this.pagination2.maxPage"
                >
                  <a
                    class="page-link"
                    href="javascript:void(0)"
                    (click)="
                      getItemsPaginatedSearch2(
                        this.pagination2.searchTerm,
                        this.pagination2.pageSize,
                        pagination2.pageNum + 1
                      )
                    "
                    >Next</a
                  >
                </li>
              </ul>
            </nav>
          </div>
          <!-- /pagination Bottom -->
        </div>

        <div
          *ngIf="
            this.currentView == 3 &&
            (currentuser?.permission?.includes('View Loan Offers') || true)
          "
          class="tab-pane"
        >
          <!-- Pagination Top-->
          <div class="row">
            <div class="col-md-8">
              <label style="display: inline-flex"
                ><span style="padding: 8px 2px; font-size: 12px">Show </span
                ><select
                  [(ngModel)]="pagination.pageSize"
                  aria-controls="data-table"
                  (change)="
                    getItemsPaginatedSearchLoanOffer(
                      this.pagination.searchTerm,
                      this.pagination.pageSize,
                      1
                    )
                  "
                  class="custom-select custom-select-xl form-control form-control-xl height"
                >
                  <option value="10">10</option>
                  <option value="25">25</option>
                  <option value="50">50</option>
                  <option value="100">100</option>
                </select>
                <span style="padding: 8px 2px; font-size: 12px"
                  >entries</span
                ></label
              >
            </div>

            <div class="form-group col-md-4">
              <label style="display: inline-flex; float: right"
                ><span style="padding: 10px 2px; font-size: 12px"></span
                ><input
                  type="search"
                  [(ngModel)]="pagination.searchTerm"
                  (keydown.enter)="
                    getItemsPaginatedSearchLoanOffer(
                      this.pagination.searchTerm,
                      this.pagination.pageSize,
                      1
                    )
                  "
                  class="form-control form-control-sm"
                  placeholder="Enter Name"
                  aria-controls="data-table"
                />
                <button
                  class="btn btn-xs text-white ml-3"
                  [style.background]="currentTheme.secondaryColor"
                  (click)="
                    getItemsPaginatedSearchLoanOffer(
                      this.pagination.searchTerm,
                      this.pagination.pageSize,
                      1
                    )
                  "
                >
                  <i class="icon icon-search"></i>
                </button>
              </label>
            </div>
            <div
              class=""
              aria-live="polite"
              style="padding-left: 18px; font-size: 13px; margin-top: -8px"
            >
              Showing {{ (pagination.pageNum - 1) * pagination.pageSize + 1 }} -
              {{
                (pagination.pageNum - 1) * pagination.pageSize +
                  pagination.count
              }}
              of {{ pagination.totalRecords }} record(s)
            </div>
          </div>
          <!-- /pagination Top -->

          <!-- Tables -->
          <div class="table-responsive">
            <table
              id="loanoffersstable"
              class="table table-striped table-hover"
            >
              <thead>
                <tr>
                  <th><small>Name</small></th>
                  <th><small>Amount</small></th>
                  <th><small>Interest Rate</small></th>
                  <th><small>Tenor</small></th>
                  <th><small>Default</small></th>
                  <th><small>Actions</small></th>
                </tr>
              </thead>
              <tbody>
                <tr
                  class="gradeX cursor"
                  *ngFor="let row of loanOffers; let i = index"
                  (click)="
                    openViewModal(
                      'LoanOffer',
                      viewLoanOfferModal,
                      row,
                      dropdownToggle
                    )
                  "
                >
                  <td>{{ row?.name }}</td>
                  <td>{{ row?.loanAmount | number : "1.2-2" }}</td>
                  <td>{{ row?.interestRate }}</td>
                  <td>{{ row?.loanDuration }}</td>
                  <td>
                    <span
                      *ngIf="!row?.default"
                      class="badge badge-success mb-1 mr-1"
                      >No</span
                    >
                    <span
                      *ngIf="row?.default"
                      class="badge badge-warning mb-1 mr-1"
                      >Yes</span
                    >
                  </td>
                  <td>
                    <div
                      #dropdownToggle
                      class="dropdown mr-2 mb-2 d-inline-block"
                    >
                      <button
                        class="btn btn-warning btn-xs dropdown-toggle"
                        type="button"
                        data-toggle="dropdown"
                        aria-haspopup="true"
                        aria-expanded="false"
                      ></button>

                      <div class="dropdown-menu">
                        <a
                          style="color: saddlebrown"
                          href="javascript:void(0)"
                          (click)="
                            isEditing = true;
                            openEditModal('LoanOffer', editLoanOfferModal, row)
                          "
                        >
                          <i class="icon icon-xs icon-setting"></i>
                          Manage
                        </a>
                        <a style="color: saddlebrown" href="javascript:void(0)">
                          <i class="icon icon-xs icon-forward"></i>
                          View
                        </a>
                      </div>
                    </div>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
          <!-- /tables -->

          <!-- Pagination Bottom -->
          <div>
            <br />
            <nav>
              <ul class="pagination pagination-sm justify-content-end">
                <li
                  class="page-item"
                  *ngIf="
                    (pagination.pageNum - 1) * pagination.pageSize + 1 > 10
                  "
                >
                  <a
                    class="page-link"
                    href="javascript:void(0)"
                    (click)="
                      getItemsPaginatedSearchLoanOffer(
                        this.pagination.searchTerm,
                        this.pagination.pageSize,
                        pagination.pageNum - 1
                      )
                    "
                    tabindex="-1"
                    >Previous</a
                  >
                </li>
                <li class="page-item pagination-menu-wrapper">
                  <a
                    class="page-link page-target"
                    (click)="paginationPopover()"
                    href="javascript:void(0)"
                    >{{ pagination.pageNum }} of
                    {{ this.pagination.maxPage }} page<span
                      *ngIf="pagination.pageNum > 1"
                      >s</span
                    ><span class="sr-only">(current)</span></a
                  >

                  <div class="pagination-menu pagination-menu-right">
                    <div class="pagination-menu-body">
                      <div class="h-auto">
                        <small>Jump to Page:</small>
                        <select
                          aria-controls="data-table"
                          [(ngModel)]="pagination.pageNum"
                          (change)="getLoanOffers(pagination.pageNum)"
                          class="custom-select custom-select-xl form-control form-control-xl height"
                        >
                          <option *ngFor="let line of pagination.jumpArray">
                            {{ line }}
                          </option>
                        </select>
                      </div>
                    </div>
                  </div>
                </li>
                <!-- <li class="page-item">
                                                  <a class="page-link" href="javascript:void(0)">{{pagination.pageNum}} of {{this.pagination.maxPage}} page<span *ngIf="pagination.pageNum > 1">s</span><span class="sr-only">(current)</span></a>
                                                </li> -->
                <li
                  class="page-item"
                  *ngIf="this.pagination.pageNum < this.pagination.maxPage"
                >
                  <a
                    class="page-link"
                    href="javascript:void(0)"
                    (click)="
                      getItemsPaginatedSearchLoanOffer(
                        this.pagination.searchTerm,
                        this.pagination.pageSize,
                        pagination.pageNum + 1
                      )
                    "
                    >Next</a
                  >
                </li>
              </ul>
            </nav>
          </div>
          <!-- /pagination Bottom -->
        </div>
        <div *ngIf="this.currentView === 4 && isFeatureEnabled(growthBookFeatureTags.LoanApprovalWorkflow)" class="tab-pane">
          <lnd-table
            [isLoading]="gettingApprovalWorkflows"
            [config]="tableConfig"
            [pagination]="approvalWorkflowsPagination"
            [headers]="tableHeaders"
            [data]="tableData"
            [searchColumns]="approvalWorkflowsPagination?.searchColumns"
            (paginationChange)="onPaginationChange($event)"
            (searchParams)="onSearchParams($event)"
            noDataTitle="No approval workflow recorded yet"
          ></lnd-table>
        </div>
      </div>
    </div>
  </div>
</div>
<ng-template #addfeeModal>
  <div class="modal-header">
    <h3 class="modal-title" id="model-2">
      <i
        class="icon icon-setting icon-2x mr-2 align-self-center text-warning"
      ></i
      >Fee Setup
    </h3>
    <button
      type="button"
      class="close"
      (click)="closeModal()"
      aria-label="Close"
    >
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <!-- /modal header -->
  <!-- Form -->
  <form [formGroup]="AddFeeForm" (ngSubmit)="submitFeeForm(AddFeeForm.value)">
    <!-- Modal Body -->
    <div class="modal-body">
      <div class="container-fluid">
        <div class="form-row mt-3">
          <div class="col-sm-8 mb-3">
            <label for="validationDefault01">Name</label
            ><b class="help-block">*</b>
            <input
              type="text"
              class="form-control"
              formControlName="FeeName"
              placeholder="Name of Fee"
            />
            <span
              [style.color]="currentTheme?.secondaryColor"
              class="help-block"
              *ngIf="
                AddFeeForm.get('FeeName').errors &&
                AddFeeForm.get('FeeName').touched
              "
            >
              What is name of the Fee?
            </span>
          </div>

          <div class="col-sm-4 mb-3 form-group">
            <label>Status</label>
            <select
              formControlName="Status"
              aria-controls="data-table"
              class="custom-select custom-select-xl form-control form-control-xl height"
            >
              <option selected="selected" disabled>Select Status</option>
              <option value="Active">Active</option>
              <option value="NonActive">Inactive</option>
            </select>
          </div>

          <div class="col-sm-12 mb-3">
            <label for="validationDefault02">Fee Description</label>
            <textarea
              class="form-control"
              formControlName="FeeDescription"
              id="text-area-1"
              rows="3"
              placeholder="Fee Description"
            ></textarea>
          </div>
        </div>
        <hr style="border-top: 1px dashed #ced4da" class="fainted" />
      </div>
    </div>
    <!-- /modal body -->

    <!-- Modal Footer -->
    <div class="modal-footer">
      <button
        [style.backgroundColor]="currentTheme?.secondaryColor"
        [style.borderColor]="currentTheme?.secondaryColor"
        type="button"
        class="btn btn-secondary btn-sm"
        (click)="closeModal()"
        style="color: #fff"
      >
        Close
      </button>
      <button
        type="submit"
        class="btn btn-primary btn-sm"
        *ngIf="!loader"
        [disabled]="AddFeeForm.invalid"
      >
        Save Settings
      </button>
      <button
        type="button"
        class="btn btn-primary btn-sm"
        *ngIf="loader"
        [disabled]="true"
      >
        <i class="icon icon-spin icon-spin2"></i> Processing...
      </button>
    </div>
    <!-- /modal footer -->
  </form>
  <!-- /form -->
</ng-template>

<ng-template #editFeeModal>
  <!-- Modal Header -->
  <div class="modal-header">
    <h3 class="modal-title" id="model-2">
      <i
        class="icon icon-setting icon-2x mr-2 align-self-center text-warning"
      ></i
      >Fee Setup
    </h3>
    <button
      type="button"
      class="close"
      (click)="closeModal()"
      aria-label="Close"
    >
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <!-- /modal header -->
  <!-- Form -->
  <form
    [formGroup]="EditFeeForm"
    (ngSubmit)="submitEditFeeForm(EditFeeForm.value)"
  >
    <!-- Modal Body -->
    <div class="modal-body">
      <div class="container-fluid">
        <div class="form-row mt-3">
          <div class="col-sm-8 mb-3">
            <label for="validationDefault01">Fee Name</label
            ><b class="help-block">*</b>
            <input
              type="text"
              class="form-control"
              formControlName="FeeName"
              placeholder="Name of Fee"
            />
            <span
              [style.color]="currentTheme?.secondaryColor"
              class="help-block"
              *ngIf="
                EditFeeForm.get('FeeName').errors &&
                EditFeeForm.get('FeeName').touched
              "
            >
              What is name of the Fee?
            </span>
          </div>

          <div class="col-sm-4 mb-3 form-group">
            <label>Status</label>
            <select
              formControlName="Status"
              aria-controls="data-table"
              class="custom-select custom-select-xl form-control form-control-xl height"
            >
              <option selected="selected" disabled>Select Status</option>
              <option value="Active">Active</option>
              <option value="NonActive">Inactive</option>
            </select>
          </div>

          <div class="col-sm-12 mb-3">
            <label for="validationDefault02">Fee Description</label>
            <textarea
              class="form-control"
              formControlName="FeeDescription"
              id="text-area-1"
              rows="3"
              placeholder="Fee Description"
            ></textarea>
          </div>
        </div>
        <hr style="border-top: 1px dashed #ced4da" class="fainted" />
      </div>
    </div>
    <!-- /modal body -->

    <!-- Modal Footer -->
    <div class="modal-footer">
      <button
        [style.backgroundColor]="currentTheme?.secondaryColor"
        [style.borderColor]="currentTheme?.secondaryColor"
        type="button"
        class="btn btn-secondary btn-sm"
        (click)="closeModal()"
        style="color: #fff"
      >
        Close
      </button>
      <button
        type="submit"
        class="btn btn-primary btn-sm"
        *ngIf="!loader"
        [disabled]="EditFeeForm.invalid"
      >
        Save Settings
      </button>
      <button
        type="button"
        class="btn btn-primary btn-sm"
        *ngIf="loader"
        [disabled]="true"
      >
        <i class="icon icon-spin icon-spin2"></i> Processing...
      </button>
    </div>
    <!-- /modal footer -->
  </form>
  <!-- /form -->
</ng-template>

<ng-template #viewFeeModal>
  <!-- Modal Header -->
  <div class="modal-header">
    <h3 class="modal-title" id="model-2">
      <i
        class="icon icon-setting icon-2x mr-2 align-self-center text-warning"
      ></i
      >Fee Information
    </h3>
    <button
      type="button"
      class="close"
      (click)="closeModal()"
      aria-label="Close"
    >
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <!-- /modal header -->
  <!-- Form -->
  <form [formGroup]="ViewFeeForm">
    <!-- Modal Body -->
    <div class="modal-body">
      <div class="container-fluid">
        <div class="form-row mt-3">
          <div class="col-sm-12 mb-3">
            <label for="validationDefault01">Fee Name</label
            ><b class="help-block">*</b>
            <input
              type="text"
              class="form-control"
              formControlName="FeeName"
              placeholder="Name of Fee"
              readonly
            />
          </div>

          <div class="col-sm-12 mb-3">
            <label for="validationDefault02">Fee Description</label>
            <textarea
              class="form-control"
              formControlName="FeeDescription"
              id="text-area-1"
              rows="3"
              placeholder="Fee Description"
              readonly
            ></textarea>
          </div>

          <!-- <div class="col-sm-6 mb-3 form-group">
                      <label>Type</label>
                      <input type="text" class="form-control" formControlName="FeeType"  placeholder="" readonly>
                 </div> -->

          <div class="col-sm-6 mb-3 form-group">
            <label>Status</label>
            <input
              type="text"
              class="form-control"
              formControlName="Status"
              placeholder=""
              readonly
            />
          </div>
        </div>
        <hr style="border-top: 1px dashed #ced4da" class="fainted" />
      </div>
    </div>
    <!-- /modal body -->

    <!-- Modal Footer -->
    <div class="modal-footer">
      <button
        [style.backgroundColor]="currentTheme?.secondaryColor"
        [style.borderColor]="currentTheme?.secondaryColor"
        type="button"
        class="btn btn-secondary btn-sm"
        (click)="closeModal()"
        style="color: #fff"
      >
        Close
      </button>
    </div>
    <!-- /modal footer -->
  </form>
  <!-- /form -->
</ng-template>

<ng-template #addThresholdModal>
  <!-- Modal Header -->
  <div class="modal-header">
    <h3 class="modal-title" id="model-2">
      <i
        class="icon icon-setting icon-2x mr-2 align-self-center text-warning"
      ></i
      >Threshold Setup
    </h3>
    <button
      type="button"
      class="close"
      (click)="closeModal()"
      aria-label="Close"
    >
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <!-- /modal header -->
  <!-- Form -->
  <form
    [formGroup]="AddThresholdForm"
    (ngSubmit)="submitThresholdForm(AddThresholdForm.value)"
  >
    <!-- Modal Body -->
    <div class="modal-body">
      <div class="container-fluid">
        <div class="form-row mt-3">
          <div class="col-sm-8 mb-3">
            <label for="validationDefault01">Threshold Parameter Name</label
            ><b class="help-block"> *</b>
            <input
              type="text"
              class="form-control"
              formControlName="ThresholdParameterName"
              placeholder="Name of Threshold Parameter"
            />
            <span
              class="help-block"
              [style.color]="currentTheme?.secondaryColor"
              *ngIf="
                AddThresholdForm.get('ThresholdParameterName').errors &&
                AddThresholdForm.get('ThresholdParameterName').touched
              "
            >
              What is name?
            </span>
          </div>

          <div class="col-sm-4 mb-3">
            <label for="validationDefault01">Value</label
            ><b class="help-block"> *</b>
            <input
              type="number"
              class="form-control"
              formControlName="ThresholdParameterValue"
              placeholder="Value of Threshold Parameter"
            />
            <span
              class="help-block"
              [style.color]="currentTheme?.secondaryColor"
              *ngIf="
                AddThresholdForm.get('ThresholdParameterValue').errors &&
                AddThresholdForm.get('ThresholdParameterValue').touched
              "
            >
              What is the value?
            </span>
          </div>

          <div class="col-sm-8 mb-3">
            <label for="validationDefault01">Threshold Parameter Type</label
            ><b class="help-block"> *</b>
            <slct-2
              [allowClear]="true"
              [data]="thresholdTypeArray"
              (selected)="selected('Threshold', $event)"
              (removed)="onRemoved()"
              placeholder="Select One"
            >
            </slct-2>
          </div>

          <div class="col-sm-4 mb-3 form-group">
            <label>Status</label>
            <select
              formControlName="Status"
              aria-controls="data-table"
              class="custom-select custom-select-xl form-control form-control-xl height"
            >
              <option selected="selected" disabled>Select Status</option>
              <option value="Active">Active</option>
              <option value="NonActive">Inactive</option>
            </select>
          </div>

          <div class="col-sm-12 mb-3">
            <label for="validationDefault02">Threshold Description</label>
            <textarea
              class="form-control"
              formControlName="ThresholdParameterDescription"
              id="text-area-1"
              rows="3"
              placeholder="Description"
            ></textarea>
          </div>
        </div>
        <hr style="border-top: 1px dashed #ced4da" class="fainted" />
      </div>
    </div>
    <!-- /modal body -->

    <!-- Modal Footer -->
    <div class="modal-footer">
      <button
        [style.backgroundColor]="currentTheme?.secondaryColor"
        [style.borderColor]="currentTheme?.secondaryColor"
        type="button"
        class="btn btn-secondary btn-sm"
        (click)="closeModal()"
        style="color: #fff"
      >
        Close
      </button>
      <button
        type="submit"
        class="btn btn-primary btn-sm"
        *ngIf="!loader"
        [disabled]="AddThresholdForm.invalid"
      >
        Save Settings
      </button>
      <button
        type="button"
        class="btn btn-primary btn-sm"
        *ngIf="loader"
        [disabled]="true"
      >
        <i class="icon icon-spin icon-spin2"></i> Processing...
      </button>
    </div>
    <!-- /modal footer -->
  </form>
  <!-- /form -->
</ng-template>

<ng-template #editThresholdModal>
  <!-- Modal Header -->
  <div class="modal-header">
    <h3 class="modal-title" id="model-2">
      <i
        class="icon icon-setting icon-2x mr-2 align-self-center text-warning"
      ></i
      >Threshold Setup
    </h3>
    <button
      type="button"
      class="close"
      (click)="closeModal()"
      aria-label="Close"
    >
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <!-- /modal header -->
  <!-- Form -->
  <form
    [formGroup]="EditThresholdForm"
    (ngSubmit)="submitEditThresholdForm(EditThresholdForm.value)"
  >
    <!-- Modal Body -->
    <div class="modal-body">
      <div class="container-fluid">
        <div class="form-row mt-3">
          <div class="col-sm-8 mb-3">
            <label for="validationDefault01">Threshold Parameter Name</label
            ><b class="help-block"> *</b>
            <input
              type="text"
              class="form-control"
              formControlName="ThresholdParameterName"
              placeholder="Name"
            />
            <span
              class="help-block"
              [style.color]="currentTheme?.secondaryColor"
              *ngIf="
                EditThresholdForm.get('ThresholdParameterName').errors &&
                EditThresholdForm.get('ThresholdParameterName').touched
              "
            >
              What is the name?
            </span>
          </div>

          <div class="col-sm-4 mb-3">
            <label for="validationDefault01">Value</label
            ><b class="help-block"> *</b>
            <input
              type="number"
              class="form-control"
              formControlName="ThresholdParameterValue"
              placeholder="Value of Threshold Parameter"
            />
            <span
              class="help-block"
              [style.color]="currentTheme?.secondaryColor"
              *ngIf="
                EditThresholdForm.get('ThresholdParameterValue').errors &&
                EditThresholdForm.get('ThresholdParameterValue').touched
              "
            >
              What is the value?
            </span>
          </div>

          <div class="col-sm-8 mb-3">
            <label for="validationDefault01">Threshold Parameter Type</label
            ><b class="help-block"> *</b>
            <slct-2
              [allowClear]="true"
              [data]="thresholdTypeArray"
              (selected)="selected('Threshold', $event)"
              (removed)="onRemoved()"
              placeholder="Select One"
              [active]="selectedThresholdTypeArray"
            >
            </slct-2>
          </div>

          <div class="col-sm-4 mb-3 form-group">
            <label>Status</label>
            <select
              formControlName="Status"
              aria-controls="data-table"
              class="custom-select custom-select-xl form-control form-control-xl height"
            >
              <option selected="selected" disabled>Select Status</option>
              <option value="Active">Active</option>
              <option value="NonActive">Inactive</option>
            </select>
          </div>

          <div class="col-sm-12 mb-3">
            <label for="validationDefault02"> Description</label>
            <textarea
              class="form-control"
              formControlName="ThresholdParameterDescription"
              id="text-area-1"
              rows="3"
              placeholder="Description"
            ></textarea>
          </div>
        </div>
        <hr style="border-top: 1px dashed #ced4da" class="fainted" />
      </div>
    </div>
    <!-- /modal body -->

    <!-- Modal Footer -->
    <div class="modal-footer">
      <button
        [style.backgroundColor]="currentTheme?.secondaryColor"
        [style.borderColor]="currentTheme?.secondaryColor"
        type="button"
        class="btn btn-secondary btn-sm"
        (click)="closeModal()"
        style="color: #fff"
      >
        Close
      </button>
      <button
        type="submit"
        class="btn btn-primary btn-sm"
        *ngIf="!loader"
        [disabled]="EditThresholdForm.invalid"
      >
        Save Settings
      </button>
      <button
        type="button"
        class="btn btn-primary btn-sm"
        *ngIf="loader"
        [disabled]="true"
      >
        <i class="icon icon-spin icon-spin2"></i> Processing...
      </button>
    </div>
    <!-- /modal footer -->
  </form>
  <!-- /form -->
</ng-template>

<ng-template #viewThresholdModal>
  <!-- Modal Header -->
  <div class="modal-header">
    <h3 class="modal-title" id="model-2">
      <i
        class="icon icon-setting icon-2x mr-2 align-self-center text-warning"
      ></i
      >Threshold Parameter Information
    </h3>
    <button
      type="button"
      class="close"
      (click)="closeModal()"
      aria-label="Close"
    >
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <!-- /modal header -->
  <!-- Form -->
  <form [formGroup]="ViewThresholdForm">
    <!-- Modal Body -->
    <div class="modal-body">
      <div class="container-fluid">
        <div class="form-row mt-3">
          <div class="col-sm-8 mb-3">
            <label for="validationDefault01">Threshold Parameter Name</label>
            <input
              type="text"
              class="form-control"
              formControlName="ThresholdParameterName"
              placeholder="Name"
              readonly
            />
          </div>

          <div class="col-sm-4 mb-3 form-group">
            <label>Threshold Value</label>
            <input
              type="text"
              class="form-control"
              formControlName="ThresholdParameterValue"
              placeholder=""
              readonly
            />
          </div>

          <div class="col-sm-6 mb-3 form-group">
            <label>Type</label>
            <input
              type="text"
              class="form-control"
              formControlName="ThresholdParameterType"
              placeholder=""
              readonly
            />
          </div>

          <div class="col-sm-6 mb-3 form-group">
            <label>Status</label>
            <input
              type="text"
              class="form-control"
              formControlName="Status"
              placeholder=""
              readonly
            />
          </div>

          <div class="col-sm-12 mb-3">
            <label for="validationDefault02">Description</label>
            <textarea
              class="form-control"
              formControlName="ThresholdParameterDescription"
              id="text-area-1"
              rows="3"
              placeholder="Fee Description"
              readonly
            ></textarea>
          </div>
        </div>
        <hr style="border-top: 1px dashed #ced4da" class="fainted" />
      </div>
    </div>
    <!-- /modal body -->

    <!-- Modal Footer -->
    <div class="modal-footer">
      <button
        [style.backgroundColor]="currentTheme?.secondaryColor"
        [style.borderColor]="currentTheme?.secondaryColor"
        type="button"
        class="btn btn-secondary btn-sm"
        (click)="closeModal()"
        style="color: #fff"
      >
        Close
      </button>
    </div>
    <!-- /modal footer -->
  </form>
  <!-- /form -->
</ng-template>

<ng-template #addLoanOfferModal>
  <!-- Modal Header -->
  <div class="modal-header" style="background-color: #f5f5f5">
    <h3 class="modal-title" id="model-2">
      <i
        class="icon icon-setting icon-2x mr-2 align-self-center text-warning"
      ></i
      >Loan Offer Setup
    </h3>
    <button
      type="button"
      class="close"
      (click)="closeModal()"
      aria-label="Close"
    >
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <!-- /modal header -->
  <!-- Form -->
  <form
    [formGroup]="AddLoanOfferForm"
    (ngSubmit)="submitLoanOfferForm(AddLoanOfferForm.value)"
  >
    <!-- Modal Body -->
    <div class="modal-body" style="background-color: #f5f5f5">
      <div class="container-fluid">
        <div
          *ngIf="this.requestLoader"
          class="table-loader"
          style="text-align: center; color: indianred"
        >
          <span> <i class="icon icon-spin icon-spin2"></i> Loading...</span>
        </div>

        <div class="form-row mt-3">
          <div class="col-sm-2 mb-3">
            <label>Loan Type<b class="help-block"> *</b></label>
            <slct-2
              [data]="loanTypesForSelect"
              (selected)="onSelectAddLoanType($event)"
              placeholder="Select One"
            >
            </slct-2>
            <!-- <ng-select [items]="loanTypesForSelect"
              (selected)="onSelectAddLoanType($event)" placeholder="Select One">
            </ng-select> -->
          </div>

          <div class="col-sm-2 mb-3">
            <label>Min Amount</label>
            <div class="input-group">
              <input
                type="text"
                class="form-control"
                [readOnly]="true"
                value="{{
                  selectedLoanType?.minAmount?.toLocaleString(undefined, {
                    minimumFractionDigits: 2
                  })
                }}"
              />
            </div>
          </div>
          <div class="col-sm-2 mb-3">
            <label>Max Amount</label>
            <div class="input-group">
              <input
                type="text"
                class="form-control"
                [readOnly]="true"
                value="{{
                  selectedLoanType?.maxAmount?.toLocaleString(undefined, {
                    minimumFractionDigits: 2
                  })
                }}"
              />
            </div>
          </div>

          <div class="col-sm-2 mb-3">
            <label>Interest Rate</label>
            <div class="input-group">
              <input
                type="text"
                class="form-control"
                [readOnly]="true"
                value="{{
                  selectedLoanType?.interestRate?.toLocaleString(undefined, {
                    minimumFractionDigits: 2
                  })
                }}"
              />
              <div class="input-group-append">
                <span class="input-group-text">%</span>
              </div>
            </div>
          </div>

          <div class="col-sm-2 mb-3">
            <label>Tenor</label>
            <div class="input-group">
              <input
                type="text"
                class="form-control"
                [readOnly]="true"
                value="{{ selectedLoanType?.loanTypeTenor }}"
              />
            </div>
          </div>
          <div class="col-sm-5 mb-3">
            <label>Name</label><b class="help-block"> *</b>
            <input
              type="text"
              formControlName="Name"
              class="form-control"
              placeholder="Name of the loan offer"
            />
            <span
              class="help-block"
              [style.color]="currentTheme?.secondaryColor"
              *ngIf="
                AddLoanOfferForm.get('Name').errors &&
                AddLoanOfferForm.get('Name').touched
              "
            >
              What is name of the Loan Offer?
            </span>
          </div>

          <div class="col-sm-2 mb-3">
            <label>Offer Amount</label><b class="help-block"> *</b>
            <div class="input-group">
              <input
                type="text"
                class="form-control"
                formControlName="LoanAmount"
                currencyMask
                [options]="{ prefix: '', thousands: ',', decimal: '.' }"
                placeholder="Interest rate"
              />
            </div>
            <span
              class="help-block"
              [style.color]="currentTheme?.secondaryColor"
              *ngIf="
                AddLoanOfferForm.get('LoanAmount').errors &&
                AddLoanOfferForm.get('LoanAmount').touched
              "
            >
              What is the amount for this offer?
            </span>
            <span
              class="help-block"
              [style.color]="currentTheme?.secondaryColor"
              *ngIf="
                AddLoanOfferForm.get('LoanAmount').touched &&
                showAddFormLoanAmountError()
              "
            >
              Amount out of loan type's boundaries
            </span>
          </div>

          <!-- <div class="col-sm-2 mb-3">
            <label>Default<b class="help-block"> *</b></label>
            <ng-select [items]="defaultSelect" (selected)="onSelectAddDefault($event)"
              placeholder="Select One">
            </ng-select>
          </div> -->

          <hr style="border-top: 1px dashed #ced4da" class="fainted" />
        </div>
      </div>
    </div>

    <!-- Modal Footer -->
    <div class="modal-footer" style="background-color: #f5f5f5">
      <button
        [style.backgroundColor]="currentTheme?.secondaryColor"
        [style.borderColor]="currentTheme?.secondaryColor"
        type="button"
        class="btn btn-warning btn-sm"
        (click)="closeModal()"
        style="color: #fff"
      >
        Close
      </button>
      <button
        type="submit"
        class="btn btn-primary btn-sm"
        *ngIf="!loader"
        [disabled]="AddLoanOfferForm.invalid"
      >
        Save Settings
      </button>
      <button
        type="button"
        class="btn btn-primary btn-sm"
        *ngIf="loader"
        [disabled]="true"
      >
        <i class="icon icon-spin icon-spin2"></i> Processing...
      </button>
    </div>
    <!-- /modal footer -->
    <!-- /modal body -->
  </form>
  <!-- /form -->
</ng-template>

<ng-template #editLoanOfferModal>
  <!-- Modal Header -->
  <div class="modal-header" style="background-color: #f5f5f5">
    <h3 class="modal-title" id="model-2">
      <i
        class="icon icon-setting icon-2x mr-2 align-self-center text-warning"
      ></i
      >Loan Offer Setup
    </h3>
    <button
      type="button"
      class="close"
      (click)="closeModal()"
      aria-label="Close"
    >
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <!-- /modal header -->
  <!-- Form -->
  <form
    [formGroup]="EditLoanOfferForm"
    (ngSubmit)="submitEditLoanOfferForm(EditLoanOfferForm.value)"
  >
    <!-- Modal Body -->
    <div class="modal-body" style="background-color: #f5f5f5">
      <div class="container-fluid">
        <div
          *ngIf="this.requestLoader"
          class="table-loader"
          style="text-align: center; color: indianred"
        >
          <span> <i class="icon icon-spin icon-spin2"></i> Loading...</span>
        </div>

        <div class="form-row mt-3">
          <div class="col-sm-2 mb-3">
            <label>Loan Type<b class="help-block"> *</b></label>
            <!-- <ng-select #editLoanTypeSelect [items]="loanTypesForSelect"
              (selected)="onSelectEditLoanType($event)" placeholder="Select One">
            </ng-select> -->
            <select
              formControlName="LoanTypeId"
              aria-controls="data-table"
              class="custom-select custom-select-xl form-control form-control-xl height"
            >
              <option selected="selected" disabled>Select Loan Type</option>
              <option
                *ngFor="let row of loanTypesForSelect"
                value="{{ row.id }}"
              >
                {{ row.text }}
              </option>
            </select>
          </div>

          <div class="col-sm-2 mb-3">
            <label>Min Amount</label>
            <div class="input-group">
              <input
                type="text"
                class="form-control"
                [readOnly]="true"
                value="{{
                  selectedLoanType?.minAmount?.toLocaleString(undefined, {
                    minimumFractionDigits: 2
                  })
                }}"
              />
            </div>
          </div>
          <div class="col-sm-2 mb-3">
            <label>Max Amount</label>
            <div class="input-group">
              <input
                type="text"
                class="form-control"
                [readOnly]="true"
                value="{{
                  selectedLoanType?.maxAmount?.toLocaleString(undefined, {
                    minimumFractionDigits: 2
                  })
                }}"
              />
            </div>
          </div>

          <div class="col-sm-2 mb-3">
            <label>Interest Rate</label>
            <div class="input-group">
              <input
                type="text"
                class="form-control"
                [readOnly]="true"
                value="{{
                  selectedLoanType?.interestRate?.toLocaleString(undefined, {
                    minimumFractionDigits: 2
                  })
                }}"
              />
              <div class="input-group-append">
                <span class="input-group-text">%</span>
              </div>
            </div>
          </div>

          <div class="col-sm-2 mb-3">
            <label>Tenor</label>
            <div class="input-group">
              <input
                type="text"
                class="form-control"
                [readOnly]="true"
                value="{{ selectedLoanType?.loanTypeTenor }}"
              />
            </div>
          </div>
          <div class="col-sm-5 mb-3">
            <label>Name</label><b class="help-block"> *</b>
            <input
              type="text"
              formControlName="Name"
              class="form-control"
              placeholder="Name of the loan offer"
            />
            <span
              class="help-block"
              [style.color]="currentTheme?.secondaryColor"
              *ngIf="
                EditLoanOfferForm.get('Name').errors &&
                EditLoanOfferForm.get('Name').touched
              "
            >
              What is name of the Loan Offer?
            </span>
          </div>

          <div class="col-sm-2 mb-3">
            <label>Offer Amount</label><b class="help-block"> *</b>
            <div class="input-group">
              <input
                type="text"
                class="form-control"
                formControlName="LoanAmount"
                currencyMask
                [options]="{ prefix: '', thousands: ',', decimal: '.' }"
                placeholder="Interest rate"
              />
            </div>
            <span
              class="help-block"
              [style.color]="currentTheme?.secondaryColor"
              *ngIf="
                EditLoanOfferForm.get('LoanAmount').errors &&
                EditLoanOfferForm.get('LoanAmount').touched
              "
            >
              What is the amount for this offer?
            </span>
            <span
              class="help-block"
              [style.color]="currentTheme?.secondaryColor"
              *ngIf="
                EditLoanOfferForm.get('LoanAmount').touched &&
                showEditFormLoanAmountError()
              "
            >
              Amount Exceeds Boundaries of loan type
            </span>
          </div>

          <!-- <div class="col-sm-2 mb-3">
            <label>Default<b class="help-block"> *</b></label>
            <select formControlName="Default" aria-controls="data-table"
              class="custom-select custom-select-xl form-control form-control-xl height">
              <option selected="selected" disabled>Select Default</option>
              <option *ngFor="let row of defaultSelect" value="{{row.id}}">{{row.text}}</option>
            </select>
          </div> -->

          <hr style="border-top: 1px dashed #ced4da" class="fainted" />
        </div>
      </div>
    </div>
    <!-- Modal Footer -->
    <div class="modal-footer" style="background-color: #f5f5f5">
      <button
        [style.backgroundColor]="currentTheme?.secondaryColor"
        [style.borderColor]="currentTheme?.secondaryColor"
        type="button"
        class="btn btn-warning btn-sm"
        (click)="closeModal()"
        style="color: #fff"
      >
        Close
      </button>
      <button
        type="submit"
        class="btn btn-primary btn-sm"
        *ngIf="!loader"
        [disabled]="EditLoanOfferForm.invalid"
      >
        Save Settings
      </button>
      <button
        type="button"
        class="btn btn-primary btn-sm"
        *ngIf="loader"
        [disabled]="true"
      >
        <i class="icon icon-spin icon-spin2"></i> Processing...
      </button>
    </div>
    <!-- /modal footer -->
    <!-- /modal body -->
  </form>
  <!-- /form -->
</ng-template>

<ng-template #viewLoanOfferModal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">View Loan Offer</h4>
    <button
      type="button"
      class="close"
      aria-label="Close"
      (click)="closeModal()"
    >
      <span aria-hidden="true">&times;</span>
    </button>
  </div>

  <form [formGroup]="ViewLoanOfferForm">
    <!-- Modal Body -->
    <div class="modal-body" style="background-color: #f5f5f5">
      <div class="container-fluid">
        <div
          *ngIf="this.requestLoader"
          class="table-loader"
          style="text-align: center; color: indianred"
        >
          <span> <i class="icon icon-spin icon-spin2"></i> Loading...</span>
        </div>

        <div class="form-row mt-3">
          <div class="col-sm-2 mb-3">
            <label>Loan Type<b class="help-block"> *</b></label>
            <input
              type="text"
              class="form-control"
              value="{{ selectedLoanType?.loanName }}"
              [readOnly]="true"
            />
          </div>

          <div class="col-sm-2 mb-3">
            <label>Min Amount</label>
            <div class="input-group">
              <input
                type="text"
                class="form-control"
                value="{{
                  selectedLoanType?.minAmount?.toLocaleString(undefined, {
                    minimumFractionDigits: 2
                  })
                }}"
                [readOnly]="true"
              />
            </div>
          </div>
          <div class="col-sm-2 mb-3">
            <label>Max Amount</label>
            <div class="input-group">
              <input
                type="text"
                class="form-control"
                [readOnly]="true"
                value="{{
                  selectedLoanType?.maxAmount?.toLocaleString(undefined, {
                    minimumFractionDigits: 2
                  })
                }}"
              />
            </div>
          </div>

          <div class="col-sm-2 mb-3">
            <label>Interest Rate</label>
            <div class="input-group">
              <input
                type="text"
                class="form-control"
                [readOnly]="true"
                value="{{
                  selectedLoanType?.interestRate?.toLocaleString(undefined, {
                    minimumFractionDigits: 2
                  })
                }}"
              />
              <div class="input-group-append">
                <span class="input-group-text">%</span>
              </div>
            </div>
          </div>

          <div class="col-sm-2 mb-3">
            <label>Tenor</label>
            <div class="input-group">
              <input
                type="text"
                class="form-control"
                [readOnly]="true"
                value="{{ selectedLoanType?.loanTypeTenor }}"
              />
            </div>
          </div>
          <div class="col-sm-2 mb-3">
            <label>Name</label><b class="help-block"> *</b>
            <div class="input-group">
              <input
                type="text"
                class="form-control"
                formControlName="Name"
                placeholder="Name"
                [readOnly]="true"
              />
            </div>
          </div>

          <div class="col-sm-2 mb-3">
            <label>Offer Amount</label><b class="help-block"> *</b>
            <div class="input-group">
              <input
                type="text"
                class="form-control"
                formControlName="LoanAmount"
                currencyMask
                [options]="{ prefix: '', thousands: ',', decimal: '.' }"
                placeholder="Interest rate"
                [readOnly]="true"
              />
            </div>
          </div>

          <div class="col-sm-2 mb-3">
            <label>Default<b class="help-block"> *</b></label>
            <input
              type="text"
              class="form-control"
              formControlName="Default"
              [readOnly]="true"
            />
          </div>

          <hr style="border-top: 1px dashed #ced4da" class="fainted" />
        </div>
      </div>
    </div>

    <!-- Modal Footer -->
    <div class="modal-footer">
      <button
        [style.backgroundColor]="currentTheme?.secondaryColor"
        [style.borderColor]="currentTheme?.secondaryColor"
        type="button"
        class="btn btn-warning btn-sm"
        (click)="closeModal()"
        style="color: #fff"
      >
        Close
      </button>
    </div>
  </form>

  <!-- /modal footer -->
</ng-template>
